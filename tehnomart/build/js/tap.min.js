!function(e){var t={},n={attachEvent:function(t,n,o){if("addEventListener"in e)return t.addEventListener(n,o,!1)},fireFakeEvent:function(e,t){if(document.createEvent)return e.target.dispatchEvent(n.createEvent(t))},createEvent:function(t){if(document.createEvent){var n=e.document.createEvent("HTMLEvents");return n.initEvent(t,!0,!0),n.eventName=t,n}},getRealEvent:function(e){return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length?e.originalEvent.touches[0]:e.touches&&e.touches.length?e.touches[0]:e}},o=[{test:("propertyIsEnumerable"in e||"hasOwnProperty"in document)&&(e.propertyIsEnumerable("ontouchstart")||document.hasOwnProperty("ontouchstart")||e.hasOwnProperty("ontouchstart")),events:{start:"touchstart",move:"touchmove",end:"touchend"}},{test:e.navigator.msPointerEnabled,events:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},{test:e.navigator.pointerEnabled,events:{start:"pointerdown",move:"pointermove",end:"pointerup"}}];t.options={eventName:"tap",fingerMaxOffset:11};var r,a,i,v,c={};r=function(e){return n.attachEvent(document.documentElement,v[e],i[e])},i={start:function(e){e=n.getRealEvent(e),c.start=[e.pageX,e.pageY],c.offset=[0,0]},move:function(e){if(!c.start&&!c.move)return!1;e=n.getRealEvent(e),c.move=[e.pageX,e.pageY],c.offset=[Math.abs(c.move[0]-c.start[0]),Math.abs(c.move[1]-c.start[1])]},end:function(o){if(o=n.getRealEvent(o),c.offset&&o.preventDefault&&c.offset[0]<t.options.fingerMaxOffset&&c.offset[1]<t.options.fingerMaxOffset&&!n.fireFakeEvent(o,t.options.eventName)){if(e.navigator.msPointerEnabled||e.navigator.pointerEnabled){var r=function(e){e.preventDefault(),o.target.removeEventListener("click",r)};o.target.addEventListener("click",r,!1)}o.preventDefault()}c={}},click:function(e){if(!n.fireFakeEvent(e,t.options.eventName))return e.preventDefault()}},a=function(){for(var e=0;e<o.length;e++)if(o[e].test){v=o[e].events,r("start"),r("move"),r("end");break}return n.attachEvent(document.documentElement,"click",i.click)},n.attachEvent(e,"load",a),"function"==typeof define&&define.amd?define(function(){return a(),t}):e.Tap=t}(window);