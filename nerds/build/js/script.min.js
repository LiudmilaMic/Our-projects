!function(){var e=document.querySelector("#modalLink"),a=document.querySelector("#dialogMessage"),o=document.querySelector(".modal__overlay"),t=(a.querySelector("#messageSubmit"),a.querySelector("#messageClose"),a.querySelector(".modal--message__form")),s=t.querySelector("[name=name]"),l=t.querySelector("[name=email]"),r=t.querySelector("[name=text]");if(localStorage)var c=localStorage.getItem("name"),n=localStorage.getItem("email");e.addEventListener("tap",function(e){e.preventDefault(),a.classList.add("modal--show"),o.classList.add("modal__overlay--show"),c&&n?(s.value=c,l.value=n,r.focus()):s.focus()}),t.addEventListener("submit",function(){s.value&&l.value?(localStorage.setItem("name",s.value),localStorage.setItem("email",l.value)):(event.preventDefault(),a.classList.remove("modal-error"),a.offsetWidth=a.offsetWidth,a.classList.add("modal-error"))}),messageClose.addEventListener("tap",function(e){e.preventDefault(),a.classList.remove("modal--show"),o.classList.remove("modal__overlay--show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&a.classList.contains("modal--show")&&(a.classList.remove("modal--show"),o.classList.remove("modal__overlay--show"))});var i=document.querySelectorAll("#slides .slide"),d=document.querySelectorAll("#controls .control");d.forEach(function(e){e.addEventListener("tap",function(e){e.preventDefault(),d.forEach(function(e){e.classList.remove("active")});var a=e.target;a.classList.add("active"),i.forEach(function(e){e.classList.remove("showing"),e.id.slice(5)===a.id.slice(7)&&e.classList.add("showing")})})})}();